{
  "name": "poem_article_workflow",
  "description": "古诗词文章生成工作流",
  "version": "1.0.0",
  "steps": [
    {
      "name": "initialize_client",
      "type": "function",
      "description": "初始化AI客户端",
      "function": "initialize_zhipu_client",
      "condition": null,
      "parameters": {
        "api_key_env": "ZHIPU_API_KEY"
      },
      "dependencies": [],
      "optional": false,
      "timeout": null,
      "retry_count": 0
    },
    {
      "name": "generate_article",
      "type": "function",
      "description": "生成古诗词文章",
      "function": "generate_poem_article",
      "condition": null,
      "parameters": {
        "model": "glm-4",
        "max_tokens": 2000,
        "temperature": 0.7
      },
      "dependencies": [
        "initialize_client"
      ],
      "optional": false,
      "timeout": null,
      "retry_count": 0
    },
    {
      "name": "generate_image",
      "type": "function",
      "description": "生成配图",
      "function": "generate_poem_image",
      "condition": null,
      "parameters": {
        "model": "cogview-3",
        "size": "1024x1024"
      },
      "dependencies": [
        "generate_article"
      ],
      "optional": true,
      "timeout": null,
      "retry_count": 0
    },
    {
      "name": "save_results",
      "type": "function",
      "description": "保存结果",
      "function": "save_workflow_results",
      "condition": null,
      "parameters": {
        "output_dir": "output"
      },
      "dependencies": [
        "generate_article"
      ],
      "optional": false,
      "timeout": null,
      "retry_count": 0
    }
  ],
  "variables": {
    "poem_name": "",
    "output_format": "markdown",
    "include_image": true
  },
  "settings": {
    "parallel_execution": false,
    "stop_on_error": true,
    "timeout": 300
  },
  "metadata": {}
}